---
const faqs = [
  {
    question: "What is WISH?",
    answer:
      "WHD is an annual three-round team competition in mathematics, competitive programming, and product design. Each team should consist of 3 to 4 members.",
  },
  {
    question: "Who can participate?",
    answer: "Female high school and university students aged 16 to 20.",
  },
  {
    question: "What if I don't have a team?",
    answer: "You can find team members in our Women's Hack Day chat. *link*",
  },
  {
    question: "Do I need to be a professional?",
    answer: "No, it's a beginner-friendly competition.",
  },
  {
    question: "Can I participate online?",
    answer: "No, Women's Hack Day 2025 is fully offline.",
  },
  {
    question: "How can I participate?",
    answer:
      "Assemble a team, register, and come to Nazarbayev University on the 25th of October 2025. Please note that the application for participation is filled out only by the captain of the team.",
  },
  {
    question: "Will participants receive certificates or prizes?",
    answer:
      "Yes, every participant will receive a certificate of participation, winners will receive a cash prize and merch. Also, there is a welcome package for 100 people, and a coffee break.",
  },
  {
    question: "I didn't find an answer to my question. What should I do?",
    answer:
      "Join our Telegram chat and ask your questions. Or you can contact us via email: acm_w@nu.edu.kz",
  },
];
---

<section id="faq">
  <h2>FAQs</h2>

  <div class="grid">
    {
      [
        faqs.filter((_, i) => i % 2 === 0),
        faqs.filter((_, i) => i % 2 !== 0),
      ].map((col) => (
        <div class="col">
          {col.map((faq) => (
            <details>
              <summary>{faq.question}</summary>
              <div class="answer">
                <div class="answer-inner">
                  <p>{faq.answer}</p>
                </div>
              </div>
            </details>
          ))}
        </div>
      ))
    }
  </div>

  <footer>
    <div class="links">
      <a href="https://www.instagram.com/nuacmsc/">Instagram</a>
      <a href="https://t.me/nuacmsc">Telegram</a>
      <a href="https://www.youtube.com/@nuacmsc">Youtube</a>
      <a href="mailto:acm_w@nu.edu.kz">Email</a>
    </div>
    <p class="copy">Â© 2026 NU ACM-W SC All rights reserved.</p>
  </footer>
</section>

<style>
  @import url("https://fonts.googleapis.com/css2?family=Cinzel:wght@600&family=Marcellus&display=swap");

  section {
    color: #fff;
    min-height: 100vh;
    position: relative;
    padding: 4rem 1.5rem;
  }

  .fade {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 180px;
    object-fit: cover;
    pointer-events: none;
  }

  h2 {
    font-family: "Cinzel", serif;
    font-weight: 650;
    font-size: clamp(2.5rem, 5vw, 4rem);
    text-align: center;
    margin-bottom: 3rem;
    position: relative;
  }

  .grid {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
    max-width: 1280px;
    margin: 0 auto;
  }

  @media (min-width: 768px) {
    .grid {
      flex-direction: row;
      align-items: start;
    }
  }

  .col {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
  }

  details {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
  }

  summary {
    background: #27272a;
    border-radius: 1rem;
    padding: 0.75rem 1.5rem;
    min-height: 3.5rem;
    display: flex;
    align-items: center;
    justify-content: space-between;
    cursor: pointer;
    list-style: none;
    font-family: "Marcellus", serif;
    font-size: clamp(1rem, 1.3vw, 1.2rem);
  }

  summary::-webkit-details-marker {
    display: none;
  }

  summary::after {
    content: "";
    flex-shrink: 0;
    width: 18px;
    height: 10px;
    background: url("data:image/svg+xml,%3Csvg viewBox='0 0 18 10' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 9L9 1L17 9' stroke='white' stroke-width='1.8' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E")
      no-repeat center;
    transition: transform 0.3s ease;
  }

  details:not([open]) summary::after {
    transform: rotate(180deg);
  }

  details .answer {
    display: block !important;
    overflow: hidden;
    height: 0;
    transition: height 0.38s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .answer-inner {
    background: #18181b;
    border-radius: 1rem;
    padding: 0.75rem 1.5rem;
    margin-top: 0.25rem;
    font-family: "Marcellus", serif;
    font-size: clamp(0.9rem, 1.1vw, 1.1rem);
    color: #e5e5e5;
    line-height: 1.7;
  }

  footer {
    margin-top: 3rem;
    text-align: center;
  }

  .links {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 0.75rem 2rem;
    margin-top: 1.5rem;
    margin-bottom: 1.5rem;
  }

  .links a {
    font-family: "Cinzel", serif;
    font-size: 1.1rem;
    color: #ad54ff;
    text-decoration: none;
  }

  .links a:hover {
    text-decoration: underline;
  }

  .copy {
    font-family: "Cinzel", serif;
    margin-top: 1.5rem;
    font-size: 1.5rem;
    color: #6c6c6c;
  }
</style>

<script>
  document.querySelectorAll("details").forEach((details) => {
    const summary = details.querySelector("summary");
    const answer = details.querySelector(".answer") as HTMLElement | null;
    if (!summary || !answer) return;

    summary.addEventListener("click", (e) => {
      e.preventDefault();

      if (details.hasAttribute("open")) {
        // Closing: snapshot current height, then animate to 0
        const currentH = answer.scrollHeight;
        answer.style.height = currentH + "px";
        requestAnimationFrame(() => {
          requestAnimationFrame(() => {
            answer.style.height = "0";
            const onEnd = () => {
              details.removeAttribute("open");
              answer.removeEventListener("transitionend", onEnd);
            };
            answer.addEventListener("transitionend", onEnd);
          });
        });
      } else {
        // Opening: set open, measure target height, animate from 0
        details.setAttribute("open", "");
        const targetH = answer.scrollHeight;
        answer.style.height = "0";
        requestAnimationFrame(() => {
          requestAnimationFrame(() => {
            answer.style.height = targetH + "px";
            const onEnd = () => {
              answer.style.height = "auto";
              answer.removeEventListener("transitionend", onEnd);
            };
            answer.addEventListener("transitionend", onEnd);
          });
        });
      }
    });
  });
</script>
